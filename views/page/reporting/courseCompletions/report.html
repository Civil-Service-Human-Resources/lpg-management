{% from "radios/macro.njk" import govukRadios %}
{% from "select/macro.njk" import govukSelect %}
{% from "button/macro.njk" import govukButton %}
{% from "../../../component/chart/macro.njk" import renderChart %}
{% from "checkboxes/macro.njk" import govukCheckboxes %}
{% from "error-summary/macro.njk" import govukErrorSummary %}
{% from "table/macro.njk" import govukTable %}

{% extends "../../../component/Page.njk" %}

{% block pageTitle %}{{ i18n.reporting.course_completions.title }} - {{ i18n.proposition_name }}{% endblock %}
{% block content %}
<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">
    <span class="govuk-caption-m">Reporting</span>
    <h1 class="govuk-heading-l">{{ i18n.reporting.course_completions.title }}</h1>
    {% set table = {
      "caption": "Number of completions",
      "headings": [
        {"text": pageModel.chart.xAxisSettings.tableHeader}, {"text": "Completions"}
      ],
      "rows": pageModel.table
    } %}
    {{ renderChart("course-completions", table, pageModel.chart) }}
    <h2 class='govuk-heading-m'>Course breakdown</h2>
    {{ govukTable({
      firstCellIsHeader: true,
      head: [{text: "Course Title"}, {text: "Completions", classes: "govuk-!-width-one-quarter"}],
      rows: pageModel.courseBreakdown
    }) }}
  </div>
</div>
{% endblock %}
{% block bodyEnd %}
  <script src="/govuk-frontend/all.js"></script>
  <script>window.GOVUKFrontend.initAll()</script>
  <script type="text/javascript" src="/js/main-bundle.min.js"></script>
{% endblock %}
